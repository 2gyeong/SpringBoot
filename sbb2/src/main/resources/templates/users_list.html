<html layout:decorate="~{layout}">

<div layout:fragment="content" class="container my-3">
	<table class="table">
		<thead class="table-dark">
			<tr align="center">
				<td width="50">번호</td>
				<td width="250">이름</td>
				<td width="350">가입일</td>
				<td width="80">방문수</td>
			</tr>
		</thead>
		<tbody>
			<tr align="center" th:each="user : ${usersList}">
				<td th:text="${user.idx}"></td>
				<td><a th:href="@{|/user_detail/${user.idx}|}" th:text="${user.name}"></a></td>
				<td th:text="${#temporals.format(user.regdate, 'yyyy-MM-dd HH:mm')}"></td>
				<td th:text="${user.cnt}"></td>
			</tr>
		</tbody>
		</table>
	<!-- 페이징 처리 - 시작 -->
	<div th:if="${!usersList.isEmpty()}">
		<ul class="pagination justify-content-center">
			<li class="page-item"
				th:classappend="${!usersList.hasPrevious} ? 'disabled'">
				<a class="page-link" th:href="@{|?page=${usersList.number-1}|}"> <span>이전</span>
				</a>
			</li>
			<li th:each="page: ${#numbers.sequence(0, usersList.totalPages-1)}"
				th:if="${page >= usersList.number-2 and page <= usersList.number+2}"
				th:classappend="${page == usersList.number} ? 'active'"
				class="page-item"><a th:text="${page}" class="page-link"
				th:href="@{|?page=${page}|}"></a>
			</li>
			<li class="page-item"
				th:classappend="${!usersList.hasNext} ? 'disabled'"><a
				class="page-link" th:href="@{|?page=${usersList.number+1}|}"> <span>다음</span>
			</a>
			</li>
		</ul>
	</div>
	<!-- 페이징 처리 - 끝 -->
	<!-- 회원 등록 버튼 -->
	<a href="/user_insert" class="btn btn-primary">회원 등록 </a>


</html>